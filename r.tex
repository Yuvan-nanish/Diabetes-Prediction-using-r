% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{article}
\usepackage{amsmath,amssymb}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math} % this also loads fontspec
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else
  % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\usepackage[margin=1in]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same}
\hypersetup{
  pdftitle={r in diabetes},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}

\title{r in diabetes}
\author{}
\date{\vspace{-2.5em}2024-11-08}

\begin{document}
\maketitle

\hypertarget{load-the-dataset}{%
\section{Load the dataset}\label{load-the-dataset}}

library(tidyverse) library(dplyr) library(caret)

\hypertarget{load-the-dataset-using-double-backslashes}{%
\section{Load the dataset\# Using double
backslashes}\label{load-the-dataset-using-double-backslashes}}

data \textless-
read.csv(``D:\textbackslash r\_diabetes\textbackslash diabetes\textbackslash diabetes\_prediction\_dataset.csv'')

\hypertarget{view-the-structure-of-the-dataset}{%
\section{View the structure of the
dataset}\label{view-the-structure-of-the-dataset}}

str(data) summary(data)

\hypertarget{check-for-missing-values}{%
\section{Check for missing values}\label{check-for-missing-values}}

colSums(is.na(data))

\hypertarget{fill-missing-values}{%
\section{Fill missing values}\label{fill-missing-values}}

data\(bmi[is.na(data\)bmi){]} \textless-
mean(data\(bmi, na.rm = TRUE) data\)HbA1c\_level{[}is.na(data\(HbA1c_level)] <- mean(data\)HbA1c\_level,
na.rm = TRUE)
data\(blood_glucose_level[is.na(data\)blood\_glucose\_level){]}
\textless-
mean(data\(blood_glucose_level, na.rm = TRUE) data\)smoking\_h{[}is.na(data\$smoking\_h){]}
\textless- ``No Info''

\hypertarget{encode-categorical-variables}{%
\section{Encode categorical
variables}\label{encode-categorical-variables}}

data\(gender <- as.numeric(factor(data\)gender, levels = c(``Female'',
``Male''))) data\(smoking_h <- as.factor(data\)smoking\_h)

\hypertarget{normalize-numerical-columns}{%
\section{Normalize numerical
columns}\label{normalize-numerical-columns}}

num\_cols \textless- c(``age'', ``bmi'', ``HbA1c\_level'',
``blood\_glucose\_level'') data{[}num\_cols{]} \textless-
scale(data{[}num\_cols{]})

\hypertarget{load-libraries-for-visualization}{%
\section{Load libraries for
visualization}\label{load-libraries-for-visualization}}

library(ggplot2)

\hypertarget{count-plot-for-diabetes}{%
\section{Count plot for diabetes}\label{count-plot-for-diabetes}}

ggplot(data, aes(x = as.factor(diabetes))) + geom\_bar(fill =
``skyblue'') + labs(title = ``Diabetes Count'', x = ``Diabetes'', y =
``Count'')

\hypertarget{boxplot-for-age-by-diabetes-status}{%
\section{Boxplot for age by diabetes
status}\label{boxplot-for-age-by-diabetes-status}}

ggplot(data, aes(x = as.factor(diabetes), y = age)) + geom\_boxplot(fill
= ``orange'') + labs(title = ``Age by Diabetes Status'', x =
``Diabetes'', y = ``Age'')

\hypertarget{boxplot-for-bmi-by-diabetes-status}{%
\section{Boxplot for BMI by diabetes
status}\label{boxplot-for-bmi-by-diabetes-status}}

ggplot(data, aes(x = as.factor(diabetes), y = bmi)) + geom\_boxplot(fill
= ``lightgreen'') + labs(title = ``BMI by Diabetes Status'', x =
``Diabetes'', y = ``BMI'')

\hypertarget{boxplot-for-hba1c-level-by-diabetes-status}{%
\section{Boxplot for HbA1c level by diabetes
status}\label{boxplot-for-hba1c-level-by-diabetes-status}}

ggplot(data, aes(x = as.factor(diabetes), y = HbA1c\_level)) +
geom\_boxplot(fill = ``lightblue'') + labs(title = ``HbA1c Level by
Diabetes Status'', x = ``Diabetes'', y = ``HbA1c Level'')

\hypertarget{boxplot-for-blood-glucose-level-by-diabetes-status}{%
\section{Boxplot for blood glucose level by diabetes
status}\label{boxplot-for-blood-glucose-level-by-diabetes-status}}

ggplot(data, aes(x = as.factor(diabetes), y = blood\_glucose\_level)) +
geom\_boxplot(fill = ``pink'') + labs(title = ``Blood Glucose Level by
Diabetes Status'', x = ``Diabetes'', y = ``Blood Glucose Level'')

\hypertarget{split-the-data-into-training-and-test-sets}{%
\section{Split the data into training and test
sets}\label{split-the-data-into-training-and-test-sets}}

set.seed(42) trainIndex \textless- createDataPartition(data\$diabetes, p
= 0.8, list = FALSE) trainData \textless- data{[}trainIndex, {]}
testData \textless- data{[}-trainIndex, {]}

\hypertarget{train-logistic-regression-model}{%
\section{Train logistic regression
model}\label{train-logistic-regression-model}}

model \textless- glm(diabetes \textasciitilde{} ., data = trainData,
family = binomial)

\hypertarget{predict-on-test-data}{%
\section{Predict on test data}\label{predict-on-test-data}}

predictions \textless- predict(model, testData, type = ``response'')
predicted\_classes \textless- ifelse(predictions \textgreater{} 0.5, 1,
0)

\hypertarget{evaluate-the-model}{%
\section{Evaluate the model}\label{evaluate-the-model}}

conf\_matrix \textless- table(Predicted = predicted\_classes, Actual =
testData\$diabetes) accuracy \textless- sum(diag(conf\_matrix)) /
sum(conf\_matrix) cat(``Accuracy:'', accuracy, ``\n'')

\hypertarget{detailed-evaluation}{%
\section{Detailed evaluation}\label{detailed-evaluation}}

library(caret) confusionMatrix(as.factor(predicted\_classes),
as.factor(testData\$diabetes))

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{summary}\NormalTok{(cars)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##      speed           dist       
##  Min.   : 4.0   Min.   :  2.00  
##  1st Qu.:12.0   1st Qu.: 26.00  
##  Median :15.0   Median : 36.00  
##  Mean   :15.4   Mean   : 42.98  
##  3rd Qu.:19.0   3rd Qu.: 56.00  
##  Max.   :25.0   Max.   :120.00
\end{verbatim}

\hypertarget{load-libraries-for-visualization-1}{%
\section{Load libraries for
visualization}\label{load-libraries-for-visualization-1}}

library(ggplot2)

\hypertarget{count-plot-for-diabetes-1}{%
\section{Count plot for diabetes}\label{count-plot-for-diabetes-1}}

ggplot(data, aes(x = as.factor(diabetes))) + geom\_bar(fill =
``skyblue'') + labs(title = ``Diabetes Count'', x = ``Diabetes'', y =
``Count'')

\hypertarget{boxplot-for-age-by-diabetes-status-1}{%
\section{Boxplot for age by diabetes
status}\label{boxplot-for-age-by-diabetes-status-1}}

ggplot(data, aes(x = as.factor(diabetes), y = age)) + geom\_boxplot(fill
= ``orange'') + labs(title = ``Age by Diabetes Status'', x =
``Diabetes'', y = ``Age'')

\hypertarget{boxplot-for-bmi-by-diabetes-status-1}{%
\section{Boxplot for BMI by diabetes
status}\label{boxplot-for-bmi-by-diabetes-status-1}}

ggplot(data, aes(x = as.factor(diabetes), y = bmi)) + geom\_boxplot(fill
= ``lightgreen'') + labs(title = ``BMI by Diabetes Status'', x =
``Diabetes'', y = ``BMI'')

\hypertarget{boxplot-for-hba1c-level-by-diabetes-status-1}{%
\section{Boxplot for HbA1c level by diabetes
status}\label{boxplot-for-hba1c-level-by-diabetes-status-1}}

ggplot(data, aes(x = as.factor(diabetes), y = HbA1c\_level)) +
geom\_boxplot(fill = ``lightblue'') + labs(title = ``HbA1c Level by
Diabetes Status'', x = ``Diabetes'', y = ``HbA1c Level'')

\hypertarget{boxplot-for-blood-glucose-level-by-diabetes-status-1}{%
\section{Boxplot for blood glucose level by diabetes
status}\label{boxplot-for-blood-glucose-level-by-diabetes-status-1}}

ggplot(data, aes(x = as.factor(diabetes), y = blood\_glucose\_level)) +
geom\_boxplot(fill = ``pink'') + labs(title = ``Blood Glucose Level by
Diabetes Status'', x = ``Diabetes'', y = ``Blood Glucose Level'')

\includegraphics{r_files/figure-latex/pressure-1.pdf}

Note that the \texttt{echo\ =\ FALSE} parameter was added to the code
chunk to prevent printing of the R code that generated the plot.

\end{document}
